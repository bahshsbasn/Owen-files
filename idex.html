<!DOCTYPE html>
<html>
<head>
<title>OWEN FILES</title>
<style>
body{
  margin:0;
  background:#bdbdbd;
  font-family:monospace;
  color:#111;
  animation:tv 0.25s infinite;
}
@keyframes tv{
  0%{transform:translateY(0)}
  50%{transform:translateY(1px)}
  100%{transform:translateY(0)}
}
.center{
  text-align:center;
  margin-top:120px;
}
.hidden{display:none}
button{
  background:none;
  border:1px solid #111;
  padding:10px;
  cursor:pointer;
  margin-top:20px;
}
.file{
  max-width:600px;
  margin:80px auto;
  padding:20px;
  animation:fade 1s forwards;
}
@keyframes fade{
  from{opacity:0}
  to{opacity:1}
}
.redacted{
  background:#111;
  color:#111;
  padding:2px 6px;
}
#crash{
  position:fixed;
  inset:0;
  background:#bdbdbd;
  display:none;
  align-items:center;
  justify-content:center;
  animation:flicker 0.15s infinite;
  z-index:999;
}
@keyframes flicker{
  0%{opacity:1}
  50%{opacity:0.7}
  100%{opacity:1}
}
.poster{
  width:320px;
  margin:120px auto;
  padding:20px;
  border:2px solid #111;
  background:#cfcfcf;
}
.owen{
  font-weight:bold;
  letter-spacing:3px;
  animation:pulse 1s infinite;
}
@keyframes pulse{
  0%{opacity:1}
  50%{opacity:0.4}
  100%{opacity:1}
}
.top-left{
  position:fixed;
  top:10px;
  left:10px;
  font-size:12px;
  opacity:0.5;
}
.top-right{
  position:fixed;
  top:10px;
  right:10px;
}
</style>
</head>
<body>

<div id="timer" class="center">
  <div class="top-right">
    <input id="pass" placeholder="password">
    <button onclick="skip()">skip</button>
  </div>
  <h2>OWEN FILES</h2>
  <p id="countdown"></p>
</div>

<div id="directory" class="center hidden">
  <h2>OWEN FILES</h2>
  <button onclick="openFile(1)">file 1</button>
  <button onclick="openFile(2)">file 2</button>
  <button onclick="openFile(3)">file 3</button>
  <button onclick="openFile(4)">file 4</button>
  <button onclick="openFile(5)">file 5</button>
  <button onclick="openFile(6)">file 6</button>
  <button onclick="openFile(7)">file 7</button>
  <button id="footageBtn" class="hidden" onclick="openFootage()">last known footage</button>
</div>

<div id="file" class="file hidden"></div>

<div id="crash">
  <div>SYSTEM ERROR<br><br>FILE CORRUPTION DETECTED<br><br>RECOVERINGâ€¦</div>
</div>

<script>
const release = new Date()
release.setDate(release.getDate()+1)
release.setHours(17,0,0)

function tick(){
  const now=new Date()
  const diff=release-now
  if(diff<=0){showDirectory();return}
  const h=Math.floor(diff/36e5)
  const m=Math.floor(diff%36e5/6e4)
  const s=Math.floor(diff%6e4/1e3)
  countdown.innerText=h+":"+m+":"+s
}
setInterval(tick,1000)

function skip(){
  if(pass.value==="admin"){
    showDirectory()
  }
}

function showDirectory(){
  timer.classList.add("hidden")
  directory.classList.remove("hidden")
}

function openFile(n){
  directory.classList.add("hidden")
  file.classList.remove("hidden")
  file.innerHTML=`
  <p>zac used to come around every night</p>
  <p>people noticed when he stopped</p>
  <p>the last name mentioned was <span class="redacted">owen</span></p>
  ${n<7?'<button onclick="nextFile('+n+')">next</button>':'<button onclick="triggerCrash()">finish file</button>'}
  `
}

function nextFile(n){
  openFile(n+1)
}

function triggerCrash(){
  crash.style.display="flex"
  setTimeout(()=>{
    localStorage.setItem("footage","true")
    crash.style.display="none"
    file.classList.add("hidden")
    directory.classList.remove("hidden")
    if(localStorage.getItem("footage")){
      footageBtn.classList.remove("hidden")
    }
  },4000)
}

function openFootage(){
  directory.classList.add("hidden")
  file.classList.remove("hidden")
  file.innerHTML=`
  <div class="poster">
    NAME zac<br><br>
    STATUS missing<br><br>
    LAST SEEN WITH<br>
    <span class="owen">OWEN</span>
  </div>
  `
}

if(localStorage.getItem("footage")){
  footageBtn.classList.remove("hidden")
}
</script>

</body>
</html>
